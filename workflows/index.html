<!doctype html>
<html lang="en">
        <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Workflows ‚Äî Apps By Joju</title>
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="style.css">
    </head>
<body>
    <header class="site-header">
        <div class="container header-inner">
            <h1 class="logo">Apps By Joju</h1>
            <div class="controls">
                <input id="wf-search" class="search" type="search" placeholder="Search workflows..." aria-label="Search workflows">
                <button id="themeToggle" class="theme-toggle" title="Toggle theme">üåô</button>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="workflow-hero">
            <h2>Workflows</h2>
            <p class="tagline">Create, organize and run your AI workflows. Fast, composable, and shareable.</p>
        </section>

        <section>
            <div class="workflow-toolbar">
                <div style="display:flex;gap:12px;align-items:center;flex:1;min-width:200px">
                    <button id="addWf" class="btn-primary">+ Add New Workflow</button>
                    <span class="small-muted">Workflows are saved in your browser.</span>
                </div>
                <div style="min-width:220px">
                    <input id="sortSelect" aria-label="Sort workflows" class="search" style="width:100%" placeholder="Filter by tag or title">
                </div>
            </div>

            <div id="workflowsGrid" class="workflows-grid" aria-live="polite">
                <!-- cards injected by script -->
            </div>

            <div id="empty" class="workflow-empty hidden">Click <strong>Add New Workflow</strong> to create a new workflow.</div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; <span id="year"></span> AI With Joju</p>
        </div>
    </footer>

    <!-- Workflow Name Modal -->
    <div id="nameModal" class="modal hidden">
        <div class="modal-content">
            <h2>Create New Workflow</h2>
            <input id="workflowNameInput" type="text" placeholder="Enter workflow name..." autofocus>
            <div class="modal-buttons">
                <button id="cancelNameBtn" class="btn-secondary">Cancel</button>
                <button id="confirmNameBtn" class="btn-primary">Create & Open Canvas</button>
            </div>
        </div>
    </div>

    <!-- Canvas Editor Modal -->
    <div id="canvasModal" class="modal hidden full-screen">
        <div class="canvas-container">
            <!-- Canvas Title -->
            <div class="canvas-header">
                <h2 id="canvasTitle">Workflow Canvas</h2>
            </div>
            
            <!-- Canvas Area -->
            <div class="canvas-wrapper" id="canvasWrapper">
                <canvas id="drawingCanvas"></canvas>
            </div>

            <!-- Bottom Toolbar -->
            <div class="canvas-toolbar-bottom">
                <button id="undoBtn" class="tool-icon" title="Undo">‚Ü∂</button>
                <button id="playBtn" class="tool-icon" title="Play">‚ñ∂Ô∏è</button>
                <button id="flipBtn" class="tool-icon" title="Flip">‚ÜîÔ∏è</button>
                <button id="drawBtn" class="tool-icon active" title="Draw">‚úèÔ∏è</button>
                <button id="toolEraser" class="tool-icon" title="Eraser">üßª</button>
                
                <div class="toolbar-divider"></div>
                
                <input id="colorPicker" type="color" value="#000000" title="Color" class="color-input">
                
                <div class="toolbar-divider"></div>
                
                <button id="toolFill" class="tool-icon" title="Fill">ü™£</button>
                <button id="toolEyedropper" class="tool-icon" title="Color Picker">‚ù§Ô∏è</button>
                <button id="toolText" class="tool-icon" title="Text">T</button>
                <button id="toolSelect" class="tool-icon" title="Select">üñêÔ∏è</button>
                
                <div class="toolbar-spacer"></div>
                
                <button id="moreBtn" class="tool-icon" title="More options">‚ãØ</button>
                
                <div class="toolbar-spacer"></div>
                
                <button id="zoomOut" class="tool-icon" title="Zoom Out">üîç‚àí</button>
                <span id="zoomLevel" class="zoom-display">100%</span>
                <button id="zoomIn" class="tool-icon" title="Zoom In">üîç+</button>
                <button id="fullscreen" class="tool-icon" title="Fullscreen">‚õ∂</button>
                
                <div class="toolbar-spacer"></div>
                
                <button id="saveCanvasBtn" class="btn-save">Save & Close</button>
            </div>
                    <button id="toolPen" class="tool-icon" style="display:none" title="Pen">‚úèÔ∏è</button>
                    <button id="toolLine" class="tool-icon" style="display:none" title="Line">üìè</button>
                    <button id="toolRect" class="tool-icon" style="display:none" title="Rectangle">‚ñ¢</button>
                    <button id="toolCircle" class="tool-icon" style="display:none" title="Circle">‚óè</button>
                    <button id="clearBtn" class="tool-icon" style="display:none" title="Clear">üóëÔ∏è</button>
                    <button id="gridToggleBtn" class="tool-icon" style="display:none" title="Grid">‚äû</button>
                    <input id="gridSize" style="display:none">
                    <button id="flowModeBtn" style="display:none"></button>
        </div>
    </div>

    <script src="script.js" defer></script>
        <script>
        // Wrapper to catch and handle initialization errors
        window.addEventListener('error', (e) => {
            console.error('Error:', e.error);
        });
        </script>
</body>
</html>